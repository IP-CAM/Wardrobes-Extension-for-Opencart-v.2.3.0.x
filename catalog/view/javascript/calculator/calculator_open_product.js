$(document).ready(function () {    var price_for_1m = 18000;    var price_for_1m_prihogii = 8750;    var min_slider_width = 100; //Минимальное значение ползунка    var max_slider_width = 240; //Максимальное значение ползунка    var slider_1 = $("[name='slider-range-1']:visible");    var handle_1 = $(".custom-handle-1 .value-output");    if(mobileDetect()) {        handle_1 = $('[name="width_mobile"]');    }    slider_1.slider({        min: min_slider_width,        max: max_slider_width,        step: 10,        value: min_slider_width,        create: function() {            handle_1.text($(this).slider("value"));        },        slide: function(event, ui) {            handle_1.text(ui.value);            activePrice(); //Обновляем цену        }    });    var min_slider_depth = 60; //Максимальное значение ползунка    var max_slider_depth = 300; //Максимальное значение ползунка    var slider_2 = $("[name='slider-range-2']");    var handle_2 = $(".custom-handle-2 .value-output");    if(mobileDetect()) {        handle_2 = $('[name="depth_mobile"]');    }    slider_2.slider({        min: min_slider_depth,        max: max_slider_depth,        step: 10,        value: min_slider_depth,        create: function() {            handle_2.text($(this).slider("value"));        },        slide: function(event, ui) {            handle_2.text(ui.value);            activePrice(); //Обновляем цену        }    });    $("[name='width-text-mobile']").text(min_slider_width);    $("[name='depth-text-mobile']").text(min_slider_depth);    ajaxRenderRoot($(".box_root_item[data-category_id_root='59']")); //По умолчанию эта категория активна    var check_root_cat_id = 0; //if root category not select    //Выбор главной категории    $("[data-category_id_root]:visible:not(input)").click(function () {        ajaxRenderRoot($(this));    });    //Выбор главной категории    $("input[data-category_id_root]:visible").change(function () {        ajaxRenderRoot($(this));    });    function ajaxRenderRoot(this_root_item) {        var id = this_root_item.parent().find('input').val();        //alert(id);        $("[name='root_check']").val(id);        //alert('check_root_cat_id' + check_root_cat_id + 'id' +id);        $(".box_root_item:visible").find('p').addClass('no-active');        $('.box_root:visible').find('input').prop('checked', false);        this_root_item.find("input").prop('checked', true);        this_root_item.find('p').removeClass('no-active');        ajaxViewCategory(); //Вид калькулятора в зависемости от выбранного вида категории    }    function ajaxViewCategory() {        $("[name='height']").removeClass();        $("[name='depth']").removeClass();        $('.slider-2').hide();        switch(Number($("[name='root_check']").val())) {            case 59:                $("[name='height']").text('Высота: любая');                $("[name='depth']").text('Глубина: любая');                $("[name='depth']").show();                break;            case 67:                $("[name='height']").text('Высота: 240-260 см');                $("[name='depth']").text('Глубина: 60 см');                $("[name='depth']").addClass('standard');                $("[name='depth']").show();                break;            case 68:                $('.slider-2').show();                $("[name='height']").addClass('garderob');                $("[name='height']").text('Высота: любая');                $("[name='depth']").hide();                break;            case 69:                $("[name='height']").text('Высота: любая');                $("[name='depth']").text('Глубина: 20-60 см');                $("[name='depth']").show();                break;        }        activePrice(); //Обновляем цену    }    function activePrice() { //Обновляем цену        //var value = slider.slider( "option", "value" );        var width = handle_1.text();        var depth = handle_2.text();        var price = 0;        switch (Number($("[name='root_check']").val())) {            case 59:                price = calcZakaz(width);                break;            case 67:                price = calcStandard(width);                break;            case 68:                price = calcGarderob(width, depth);                break;            case 69:                price = calcPrihogii(width);                break;        }        $("[name='price']").text(Math.round(price) + ' рублей');        $("[name='width-text-mobile']").text(slider_1.slider( "option", "value" )); //mobile        $("[name='depth-text-mobile']").text(slider_2.slider( "option", "value" )); //mobile    }    function calcZakaz(width) {        //Прямая зависимость        var width_modul = Number(width) - 100;        width_modul = width_modul/100;        var price = price_for_1m + (width_modul * price_for_1m);     //   alert(price);        return price;    }    function calcStandard(value) {        //Прямая зависимость        var price = 0;        switch(Number(value)) {            case 100:                price = 8400;                break;            case 110:                price = 13400;                break;            case 120:                price = 14800;                break;            case 130:                price = 16050;                break;            case 140:                price = 17700;                break;            case 150:                price = 19150;                break;            case 160:                price = 20600;                break;            case 170:                price = 22100;                break;            case 180:                price = 23550;                break;            case 190:                price = 24850;                break;            case 200:                price = 26400;                break;            case 210:                price = 27850;                break;            case 220:                price = 29250;                break;            case 230:                price = 30700;                break;            case 240:                price = 32150;                break;        }        return price;    }    function calcGarderob(width, depth) {        //Прямая зависимость        var width_modul = Number(width) - 100;        width_modul = width_modul/100;        var price = price_for_1m + (width_modul * price_for_1m);        //Расчет глубины:        depth = depth - 60;        depth = depth/10;        price = price + (depth * 1100);        return price;    }    function calcPrihogii(width) {        //Прямая зависимость        var width_modul = Number(width) - 100;        width_modul = width_modul/100;        var price = price_for_1m_prihogii + (width_modul * price_for_1m_prihogii);        return price;    }});